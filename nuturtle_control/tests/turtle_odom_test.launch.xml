<launch>
    <catch2_launch_file description='An example Catch2 integration test launch file'/>

    <arg name='test_duration' default='2.0' description='max length of tests in seconds'/>

    <node pkg="nuturtle_control" exec="odometry" >
        <param name="body_id" value="base_footprint"/>
        <param name="odom_id" value="odom"/>
        <param name="wheel_left" value="wheel_left_joint"/>
        <param name="wheel_right" value="wheel_right_joint"/>
        <param from="$(find-pkg-share nuturtle_description)/config/diff_params.yaml"/>
    </node>

    <node pkg="joint_state_publisher" exec="joint_state_publisher"/>

    <catch2_integration_test_node pkg='nuturtle_control' exec='turtle_odom_test'>
        <param name='test_duration' value='$(var test_duration)'/>
    </catch2_integration_test_node>
</launch>