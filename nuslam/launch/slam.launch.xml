<launch>
    <arg name="cmd_src" default="teleop" description="decides what control method to use for the robot"/>
    <arg name="robot" default="nusim" description="decides whether to control a real robot, a fake robot, or nothing"/>

    <include file="$(find-pkg-share nuturtle_control)/launch/start_robot.launch.xml" if="$(eval '\'$(var robot)\' == \'nusim\'')">
        <arg name="cmd_src" value="$(var cmd_src)"/>
        <arg name="robot" value="$(var robot)"/>
        <arg name="use_rviz" value="true"/>
        <arg name="slam" value="true"/>
    </include>
    <include file="$(find-pkg-share nuturtle_control)/launch/start_robot.launch.xml" if="$(eval '\'$(var robot)\' == \'turtlebotname\'')">
        <arg name="cmd_src" value="$(var cmd_src)"/>
        <arg name="robot" value="$(var robot)"/>
        <arg name="use_rviz" value="false"/>
        <arg name="slam" value="true"/>
    </include>
    <node pkg="nuslam" exec="slam"/>
    <!-- Launch the static_transform publisher --> 
    <node pkg="tf2_ros" exec="static_transform_publisher" name="map_static_transform_publisher" args=
        "--x 0
        --y 0
        --z 0
        --yaw 0
        --pitch 0
        --roll 0
        --frame-id world
        --child-frame-id map"
    />

</launch>
